let i,p="open-modal",w="close-modal",b="modal";const L=e=>{let o=e.target.closest("["+p+"]");if(o&&(i=o.getAttribute(p),i!=null&&i!="")){let r=document.querySelectorAll("["+b+'="'+i+'"].b-modal');r.length==1?r[0].classList.add("opened"):r.length>1?console.error("Se ha encontrado "+r.length+" modales con el mismo valor "):console.error('No se ha encontrado una modal definida asÃ­: modal="'+i+'"')}let t=!1,n=!1,l=!1,s=!1;i&&(t=e.target.closest("["+b+'="'+i+'"].b-modal'),n=!e.target.closest("["+b+'="'+i+'"].b-modal [bx-content]'),l=e.target.closest("["+b+"].b-modal [bx-content] ["+w+"]"),s=e.target.closest("["+b+"].b-modal [bx-content] [maximize-modal]")),(t&&n||l&&t)&&y(t),t&&s&&(console.log("hola"),t.classList.toggle("maximized"))};function E(){let e=i?document.querySelector('[modal="'+i+'"].b-modal.opened'):!1;e&&y(e)}function y(e){e.classList.add("closed"),setTimeout(()=>{e.classList.remove("opened"),e.classList.remove("closed")},400)}const S=e=>{let o=e.target.closest(".b-windows");if(o){let t=o.querySelectorAll("[bx-head] [bx-title]");t.forEach((n,l)=>{e.target==n&&m(o,l,t.length)})}};function q(){document.querySelectorAll(".b-windows").forEach(e=>{let o=0,t=e.querySelectorAll("[bx-head] [bx-title]");t.forEach((n,l)=>{o<1&&n.hasAttribute("default")?(console.log(n),o++,m(e,l,t.length)):o<1&&m(e,0,t.length)})})}function m(e,o,t){let n=e.querySelectorAll("[bx-content]");t==n.length?n.forEach((l,s)=>{o==s?l.classList.add("opened"):l.classList.remove("opened")}):console.error("Error en b-windows: La cantidad de titles no es igual al content")}const A="0.5.15";window.addEventListener("load",e=>{M()});window.addEventListener("DOMContentLoaded",()=>{console.log("Boxy "+A+" is mounted"),I()});var M=()=>{W(!1),v(),q()};let h="",f=!1;const H=document.body,N={attributes:!0,childList:!0,subtree:!0},C=(e,o)=>{B(),v()},k=new MutationObserver(C);k.observe(H,N);function W(e=!1){e?document.body.setAttribute("version",A):document.body.removeAttribute("version")}function v(){document.querySelectorAll("[bg-img]").forEach(function(e){let o=e.getAttribute("bg-img");o&&(e.style.backgroundImage="url("+o+")",e.setAttribute("bg-img",""))})}function B(e,o){if(e&&o)d("color",e,o,!0),d("bg",e,o,!0),d("tx",e,o,!0);else{let t=[];t.primary="blue",t.secondary="gray",t.success="green",t.warning="yellow",t.danger="red",t.info="light-blue",t.light="white",t.dark="dark-gray";for(let n in t)d("color",n,t[n]),d("bg",n,t[n]),d("tx",n,t[n])}}function d(e,o,t,n){document.querySelectorAll("["+e+"]").forEach(function(l){n?l.attributes[e]&&l.attributes[e].value==o&&(l.removeAttribute(e),l.setAttribute(e,t)):l.attributes[e].value==o&&(l.setAttribute("rs",l.attributes[e].value),l.setAttribute(e,t))})}const x=()=>location.hash.slice(1).toLocaleLowerCase().split("/")[1]||"/";function I(){document.body.addEventListener("click",function(e){let o=e.target.closest("[mobile-side]"),t=document.querySelector(".b-side[opened]");o&&(o.parentNode.hasAttribute("opened")?o.parentNode.removeAttribute("opened"):(t&&t.removeAttribute("opened"),o.parentNode.setAttribute("opened",""))),!e.target.closest(".b-side[opened]")&&t&&t.removeAttribute("opened");let l=e.target.closest("[open-nav]");if(l&&h!=x()&&(f=!1),!f)l&&(l.parentNode.querySelector("[bx-content]").setAttribute("opened",""),f=!0,h=x());else if(!e.target.closest(".b-header [bx-content][opened]")){let c=document.querySelector(".b-header [bx-content][opened]");c&&(c.removeAttribute("opened"),f=!1)}let s=e.target.closest(".b-menu [bx-title]");if(s){let r=s.parentNode.hasAttribute("autoclose"),c=s.parentNode.querySelectorAll("[bx-title]"),g=s.parentNode.querySelectorAll("[bx-content]"),a=s.nextElementSibling;r&&c&&g&&(c.forEach(u=>{u!=s&&u.removeAttribute("active")}),g.forEach(u=>{u!=a&&(u.style.maxHeight=null)})),s.setAttribute("active",""),a.hasAttribute("bx-content")&&(a.style.maxHeight?(a.style.maxHeight=null,s.removeAttribute("active")):a.style.maxHeight=a.scrollHeight+"px")}L(e),S(e)}),window.addEventListener("keydown",e=>{e.key==="Escape"&&E()}),document.addEventListener("mousedown",function(e){let o=e.target.closest('[class^="b-btn"][ripple]');if(o){const t=document.createElement("span"),n=Math.max(o.clientWidth,o.clientHeight),l=n/2;t.style.width=t.style.height=`${n}px`,t.style.left=`${e.clientX-o.offsetLeft-l}px`,t.style.top=`${e.clientY-o.offsetTop-l}px`,t.classList.add("ripple"),o.appendChild(t),setTimeout(()=>o.removeChild(t),500)}})}export{M as i};
