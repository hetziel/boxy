window.addEventListener("load",(e=>{console.log("Boxy is mounted"),bEvents()}));const svg='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg>',targetNode=document.body,config={attributes:!0,childList:!0,subtree:!0},callback=(e,t)=>{setColor()},observer=new MutationObserver(callback);function setColor(e,t){if(e&&t)changeColor("color",e,t,!0),changeColor("bg",e,t,!0),changeColor("tx",e,t,!0);else{let e=[];e.primary="blue",e.secondary="gray",e.success="green",e.warning="yellow",e.danger="red",e.info="light-blue",e.light="white",e.dark="dark-gray";for(let t in e)changeColor("color",t,e[t]),changeColor("bg",t,e[t]),changeColor("tx",t,e[t])}}function changeColor(e,t,o,r){document.querySelectorAll("["+e+"]").forEach((function(l){r?l.attributes[e]&&l.attributes[e].value==t&&(l.removeAttribute(e),l.setAttribute(e,o)):l.attributes[e].value==t&&(l.setAttribute("rs",l.attributes[e].value),l.setAttribute(e,o))}))}observer.observe(targetNode,config);let _switch=0;function bEvents(){document.body.addEventListener("click",(function(e){let t=e.target.closest("[mobile-side]"),o=document.querySelector(".b-side[opened]");t&&(t.parentNode.hasAttribute("opened")?t.parentNode.removeAttribute("opened"):(o&&o.removeAttribute("opened"),t.parentNode.setAttribute("opened",""))),!e.target.closest(".b-side[opened]")&&o&&o.removeAttribute("opened"),bHeadSide=e.target.closest("[open-nav]"),bHeadSide&&(bHeadSide.parentNode.querySelector("[bx-content]").setAttribute("opened",""),_switch++);let r=!e.target.closest(".b-header [bx-content][opened]");if(r&&r&&_switch>1&&(document.querySelector(".b-header [bx-content][opened]").removeAttribute("opened"),_switch=0),title=e.target.closest("[bx-title]")){let e=title.parentNode.hasAttribute("autoclose"),t=title.parentNode.querySelectorAll("[bx-title]"),o=title.parentNode.querySelectorAll("[bx-content]"),r=title.nextElementSibling;e&&t&&o&&(t.forEach((e=>{e!=title&&e.removeAttribute("active")})),o.forEach((e=>{e!=r&&(e.style.maxHeight=null)}))),title.setAttribute("active",""),r.hasAttribute("bx-content")&&(r.style.maxHeight?(r.style.maxHeight=null,title.removeAttribute("active")):r.style.maxHeight=r.scrollHeight+"px")}}))}
