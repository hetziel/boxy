window.addEventListener("load",(e=>{console.log("Boxy is mounted"),sideHeadNav(),bSide(),bMenu()}));const targetNode=document.body,config={attributes:!0,childList:!0,subtree:!0},callback=(e,t)=>{setColor()},observer=new MutationObserver(callback);function setColor(e,t){if(e&&t)changeColor("color",e,t,!0),changeColor("bg",e,t,!0),changeColor("tx",e,t,!0);else{let e=[];e.primary="blue",e.secondary="gray",e.success="green",e.warning="yellow",e.danger="red",e.info="light-blue",e.light="white",e.dark="dark-gray";for(let t in e)changeColor("color",t,e[t]),changeColor("bg",t,e[t]),changeColor("tx",t,e[t])}}function changeColor(e,t,o,r){document.querySelectorAll("["+e+"]").forEach((function(n){r?n.attributes[e]&&n.attributes[e].value==t&&(n.removeAttribute(e),n.setAttribute(e,o)):n.attributes[e].value==t&&(n.setAttribute("rs",n.attributes[e].value),n.setAttribute(e,o))}))}function sideHeadNav(){document.querySelectorAll("[open-nav]").forEach((e=>{e.addEventListener("click",(function(e){document.querySelector(".b-header [bx-content]").setAttribute("opened","")}))}));let e=0;document.addEventListener("click",(function(t){if(document.querySelector(".b-header [bx-content][opened]")){e++;!t.target.closest("[bx-content][opened]")&&e>1&&(document.querySelector(".b-header [bx-content]").removeAttribute("opened"),e=0)}}))}function bSide(){document.addEventListener("click",(function(e){let t=e.target.closest("[mobile-side]"),o=document.querySelector(".b-side[opened]");t&&(t.parentNode.hasAttribute("opened")?t.parentNode.removeAttribute("opened"):(o&&o.removeAttribute("opened"),t.parentNode.setAttribute("opened",""))),!e.target.closest(".b-side[opened]")&&o&&o.removeAttribute("opened")}))}function bMenu(){document.addEventListener("click",(function(e){if(title=e.target.closest("[bx-title]")){let e=title.parentNode.hasAttribute("autoclose"),t=title.parentNode.querySelectorAll("[bx-title]"),o=title.parentNode.querySelectorAll("[bx-content]"),r=title.nextElementSibling;e&&t&&o&&(t.forEach((e=>{e!=title&&e.removeAttribute("active")})),o.forEach((e=>{e!=r&&(e.style.maxHeight=null)}))),title.setAttribute("active",""),r.hasAttribute("bx-content")&&(r.style.maxHeight?(r.style.maxHeight=null,title.removeAttribute("active")):r.style.maxHeight=r.scrollHeight+"px")}}))}observer.observe(targetNode,config);
