const callbackLive=(e,t)=>{for(const t of e)"childList"===t.type&&(_onView&&boxyView(),_onCode&&boxyCode())},observerLive=new MutationObserver(callbackLive),targetNodeLive=document.body,configLive={attributes:!0,childList:!0,subtree:!0};observerLive.observe(targetNodeLive,configLive);let viewContainer=[],codeContainer=[],_onView=!0,_onCode=!0;function get_data(e,t,n){const r=t;e=e.replace(".","/"),fetch(e+".html").then((t=>{404==t.status?n(`<div error>la vista ${e} no se ha encontrado en la ruta establecida <span code class="mt1">${r}</span></div>`):403==t.status?n(`<div error> Error en <span code>${r}</span> no se ha encontrado en la ruta establecida.</div>`):t.text().then((e=>{n(e)}))}))}function boxyView(){let e=document.querySelector("[b-view]");e&&_onView&&(_onView=!1,fillData(e,"view").then((t=>{e.outerHTML=`${t}`,_onView=!0})))}function fillData(e,t){let n,r,s;switch(t){case"view":n=viewContainer,r="b-view",s="views/";break;case"code":n=codeContainer,r="b-code",s="data/"}let o=e.outerHTML;return o=o.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.getAttribute(r),new Promise(((t,r)=>{n[e]?t(n[e]):get_data(s+e.trim(),o,(function(r){n[e]=r,t(r)}))}))}function boxyCode(){let e=document.querySelector("[b-code]");e&&_onCode&&""!=e.getAttribute("b-code")&&(_onCode=!1,fillData(e,"code").then((t=>{const n=document.createElement("span");n.innerHTML=svg,n.classList.add("copy-icon");const r=document.createTextNode(t),s=document.createElement("pre");s.appendChild(r),e.appendChild(s),w3CodeColor(e),e.appendChild(n),e.removeAttribute("b-code"),e.setAttribute("code",""),_onCode=!0})))}function liveEvents(){document.addEventListener("click",(function(e){(bCopy=e.target.closest("[code] .copy-icon"))&&appCopy(bCopy.parentNode.children[0])}))}function w3CodeColor(e,t){var n=t||"html",r=document.getElementById(e)||e,s=r.innerHTML;function o(e,t,n,r,s){for(var o,i,a="",l=[];e.search(t)>-1;)o=e.search(t),-1==(i=e.indexOf(n,o))&&(i=e.length),s?(l.push(r(e.substring(o,i+n.length))),e=e.substring(0,o)+s+e.substr(i+n.length)):(a+=e.substring(0,o),a+=r(e.substring(o,i+n.length)),e=e.substr(i+n.length));this.rest=a+e,this.arr=l}function i(e){for(var t,n,r,s=e,o="";s.search(/(\s|<br>)/)>-1;)t=s.search(/(\s|<br>)/),-1==(n=s.indexOf("&gt;"))&&(n=s.length),o+=s.substring(0,t),o+=a(s.substring(t,n)),s=s.substr(n);return"&gt;"==(r="<span style=color:#0dcaf0>&lt;</span>"+(r=o+s).substring(4)).substr(r.length-4,4)&&(r=r.substring(0,r.length-4)+"<span style=color:"+"#0dcaf0>&gt;</span>"),"<span style=color:#eb6b06>"+r+"</span>"}function a(e){for(var t,n,r,s,o,i=e,a="";i.indexOf("=")>-1;)n=-1,t=i.indexOf("="),r=i.indexOf("'",t),s=i.indexOf('"',t),(o=i.indexOf(" ",t+2))>-1&&(o<r||-1==r)&&(o<s||-1==s)?n=i.indexOf(" ",t):s>-1&&(s<r||-1==r)&&(s<o||-1==o)?n=i.indexOf('"',i.indexOf('"',t)+1):r>-1&&(r<s||-1==s)&&(r<o||-1==o)&&(n=i.indexOf("'",i.indexOf("'",t)+1)),(!n||-1==n||n<t)&&(n=i.length),a+=i.substring(0,t),a+=l(i.substring(t,n+1)),i=i.substr(n+1);return"<span style=color:#c58dff>"+a+i+"</span>"}function l(e){return"<span style=color:#ffff00>"+e+"</span>"}function c(e){return"<span style=color:green>"+e+"</span>"}function u(e){var t,n,r,s,i,a,l,u=e,b="";for(u=(r=new o(u,/\/\*/,"*/",c,"W3CSSCOMMENTPOS")).rest;u.search("{")>-1;){for(t=u.search("{"),i=u.substr(t+1),l=1,a=0,s=0;s<i.length&&("{"==i.substr(s,1)&&(l++,a++),"}"==i.substr(s,1)&&l--,0!=l);s++);for(0!=l&&(a=0),n=t,s=0;s<=a;s++)n=u.indexOf("}",n+1);-1==n&&(n=u.length),b+=u.substring(0,t+1),b+=d(u.substring(t+1,n)),u=u.substr(n)}for(u=(u=(u=b+u).replace(/{/g,"<span style=color:black>{</span>")).replace(/}/g,"<span style=color:black>}</span>"),s=0;s<r.arr.length;s++)u=u.replace("W3CSSCOMMENTPOS",r.arr[s]);return"<span style=color:brown>"+u+"</span>"}function d(e){var t,n,r,s,o=e,i="";if(o.indexOf("{")>-1)return u(o);for(;o.search(":")>-1;){for(s=!0,r=t=o.search(":");1==s;)s=!1,n=o.indexOf(";",r),"&nbsp;"==o.substring(n-5,n+1)&&(s=!0,r=n+1);-1==n&&(n=o.length),i+=o.substring(0,t),i+=b(o.substring(t,n+1)),o=o.substr(n+1)}return"<span style=color:red>"+i+o+"</span>"}function b(e){var t,n=e,r="";for(n="<span style=color:black>:</span>"+n.substring(1);n.search(/!important/i)>-1;)t=n.search(/!important/i),r+=n.substring(0,t),r+=f(n.substring(t,t+10)),n=n.substr(t+10);return result=r+n,";"==result.substr(result.length-1,1)&&"&nbsp;"!=result.substr(result.length-6,6)&&"&lt;"!=result.substr(result.length-4,4)&&"&gt;"!=result.substr(result.length-4,4)&&"&amp;"!=result.substr(result.length-5,5)&&(result=result.substring(0,result.length-1)+"<span style=color:"+"black>;</span>"),"<span style=color:mediumblue>"+result+"</span>"}function f(e){return"<span style=color:red;font-weight:bold;>"+e+"</span>"}function g(e){var t,n,r,s,o,i,a,l,u,d,b=e,f="",g=[],L="";for(t=0;t<b.length;t++)"\\"==(n=b.substr(t,1))&&(g.push(b.substr(t,2)),n="W3JSESCAPE",t++),L+=n;for(b=L,1;r=x(b,"'","'",p),s=x(b,'"','"',p),o=x(b,/\/\*/,"*/",c),i=x(b,/\/\//,"<br>",c),l=O(b,v),a=C("js",b,h),d=m(b,y),-1!=Math.max(l[0],r[0],s[0],o[0],i[0],a[0],d[0])&&-1!=(u=w(l,r,s,o,i,a,d))[0];)u[0]>-1&&(f+=b.substring(0,u[0]),f+=u[2](b.substring(u[0],u[1])),b=b.substr(u[1]));for(b=f+b,t=0;t<g.length;t++)b=b.replace("W3JSESCAPE",g[t]);return"<span style=color:black>"+b+"</span>"}function p(e){return"<span style=color:brown>"+e+"</span>"}function h(e){return"<span style=color:mediumblue>"+e+"</span>"}function v(e){return"<span style=color:red>"+e+"</span>"}function y(e){return"<span style=color:black>"+e+"</span>"}function m(e,t){var n,r,s,o,i=[".","<"," ",";","(","+",")","[","]",",","&",":","{","}","/","-","*","|","%"];if((o=e.indexOf("."))>-1)for(n=e.substr(o+1),s=0;s<n.length;s++)for(cc=n[s],r=0;r<i.length;r++)if(cc.indexOf(i[r])>-1)return[o+1,s+o+1,t];return[-1,-1,t]}function w(){var e,t=[];for(e=0;e<arguments.length;e++)arguments[e][0]>-1&&(0==t.length||arguments[e][0]<t[0])&&(t=arguments[e]);return 0==t.length&&(t=arguments[e]),t}function C(e,t,n){var r,s,o,i,a=-1,l=-1;for("js"==e&&(r=["abstract","arguments","boolean","break","byte","case","catch","char","class","const","continue","debugger","default","delete","do","double","else","enum","eval","export","extends","false","final","finally","float","for","function","goto","if","implements","import","in","instanceof","int","interface","let","long","NaN","native","new","null","package","private","protected","public","return","short","static","super","switch","synchronized","this","throw","throws","transient","true","try","typeof","var","void","volatile","while","with","yield"]),s=0;s<r.length;s++)(o=t.indexOf(r[s]))>-1&&(i=/\W/g,t.substr(o+r[s].length,1).match(i)&&t.substr(o-1,1).match(i)&&o>-1&&(-1==a||o<a)&&(l=(a=o)+r[s].length));return[a,l,n]}function x(e,t,n,r){var s,o;return s=e.search(t),-1==(o=e.indexOf(n,s+n.length))&&(o=e.length),[s,o+n.length,r]}function O(e,t){var n,r,s,o,i,a=["<br>"," ",";","(","+",")","[","]",",","&",":","{","}","/","-","*","|","%","="],l=0;for(n=0;n<e.length;n++)for(r=0;r<a.length;r++)if((s=e.substr(n,a[r].length))==a[r]){if("-"==s&&("e"==e.substr(n-1,1)||"E"==e.substr(n-1,1)))continue;if(l<(o=n)&&(i=e.substring(l,o),!isNaN(i)))return[l,o,t];l=n+=a[r].length,n-=1;break}return[-1,-1,t]}r.style.fontFamily="Consolas,'Courier New', monospace",n||(n="html"),"html"==n&&(s=function(e){var t,n,r,s,a,l=e,d="";t=new o(l,"&lt;!--","--&gt;",c,"W3HTMLCOMMENTPOS"),l=t.rest;for(;l.indexOf("&lt;")>-1;)s="",n=l.indexOf("&lt;"),"&LT;STYLE"==l.substr(n,9).toUpperCase()&&(s="css"),"&LT;SCRIPT"==l.substr(n,10).toUpperCase()&&(s="javascript"),-1==(r=l.indexOf("&gt;",n))&&(r=l.length),d+=l.substring(0,n),d+=i(l.substring(n,r+4)),l=l.substr(r+4),"css"==s&&(r=l.indexOf("&lt;/style&gt;"))>-1&&(d+=u(l.substring(0,r)),l=l.substr(r)),"javascript"==s&&(r=l.indexOf("&lt;/script&gt;"))>-1&&(d+=g(l.substring(0,r)),l=l.substr(r));for(l=d+l,a=0;a<t.arr.length;a++)l=l.replace("W3HTMLCOMMENTPOS",t.arr[a]);return l}(s)),"css"==n&&(s=u(s)),"js"==n&&(s=g(s)),r.innerHTML=s}function appCopy(e){var t=document.createRange();t.selectNodeContents(e),window.getSelection().removeAllRanges(),window.getSelection().addRange(t),document.execCommand("copy"),window.getSelection().removeRange(t)}boxyView(),boxyCode(),liveEvents(),window.addEventListener("load",(e=>{console.log("Boxy Live is mounted")}));
